<!DOCTYPE html>

<html>

<head>


</head>

<body>


  <button id="play" class="button">play sound</button><br>
  <button id="stop" class="button">stop sound</button><br>
  <script>
    // function ready() {
      play = () => {
        
        var audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    var oscillator = audioCtx.createOscillator();
    var gainNode = audioCtx.createGain();
    oscillator.connect(gainNode); 
    gainNode.connect(audioCtx.destination);
    oscillator.type = 'sine'; 
    oscillator.frequency.value = 440;

    gainNode.gain.value = 1;
        
        /*
        audioCtx = window.webkitAudioContext; //https://bwedgar.github.io/simple-ios-webaudio-webapp/
        oscillator = audioCtx.createOscillator()
        gainNode = audioCtx.createGain()
        oscillator.connect(gainNode)
        gainNode.connect(audioCtx.destination)
        oscillator.start(0)
        oscillator.type = "square"
        oscillator.frequency.value = 440
        gainNode.gain.setValueAtTime(1, audioCtx.currentTime)
        */
      }

      document.getElementById("play").addEventListener("click", () => {
        play();
      });

      document.getElementById("stop").addEventListener("click", () => {
        gainNode.gain.setValueAtTime(0, audioCtx.currentTime)
      });


    // } // end ready
    // if (document.readyState == 'loading') {
    //   document.addEventListener('DOMContentLoaded', ready);
    // } else {
    //   ready();
    // }
  </script>

</body>

</html>
