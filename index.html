<!DOCTYPE html>

<html>

<head>


</head>

<body>


  <button id="play" class="button">play sound</button><br>
  <button id="stop" class="button">stop sound</button><br>
  <script>
    // function ready() {
      play = () => {
        audioCtx = window.webkitAudioContext; //https://bwedgar.github.io/simple-ios-webaudio-webapp/
        oscillator = audioCtx.createOscillator()
        gainNode = audioCtx.createGain()
        oscillator.connect(gainNode)
        gainNode.connect(audioCtx.destination)
        oscillator.start(0)
        oscillator.type = "square"
        oscillator.frequency = 440
        gainNode.gain.setValueAtTime(1, audioCtx.currentTime)
      }

      document.getElementById("play").addEventListener("click", () => {
        play();
      });

      document.getElementById("stop").addEventListener("click", () => {
        gainNode.gain.setValueAtTime(0, audioCtx.currentTime)
      });


    // } // end ready
    // if (document.readyState == 'loading') {
    //   document.addEventListener('DOMContentLoaded', ready);
    // } else {
    //   ready();
    // }
  </script>

</body>

</html>
